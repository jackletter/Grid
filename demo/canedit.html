<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>可编辑表格</title>
    <link href="../dist/css/grid.css" rel="stylesheet" />
    <script src="../dist/js/jquery-3.3.1.js"></script>
    <script src="../dist/js/grid.js"></script>
</head>

<body>
    <div id="grid" style="width:1200px;"></div>
    <script type="text/javascript">
        $(function () {
            var grid = new Grid("grid", {
                isEdit: true,
                isPage: false,
                colWidths: [
                    100, 100, 100, 100, 100, 100, 100, 100, 100, 100
                ],
                headArr: [
                    [
                        { text: "序号", rowspan: 2 },
                        { text: "基本信息", colspan: 3 },
                        { text: "扩展信息", colspan: 5 },
                        { text: "操作", rowspan: 2 }
                    ],
                    [
                        { text: "姓名" },
                        { text: "年龄" },
                        { text: "性别" },
                        { text: "职业" },
                        { text: "身份证号" },
                        { text: "户籍地址" },
                        { text: "出生日期" },
                        { text: "住址" }
                    ]
                ],
                columnArr: [
                    { type: "index" },
                    { type: "lab", edit: { type: "text" }, name: "uname" },
                    { type: "lab", edit: { type: "text" }, name: "uage" },
                    { type: "lab", edit: { type: "select", nullable: true, options: [{ text: "男", value: "1" }, { text: "女", value: "2" }] }, name: "usex" },
                    { type: "lab", name: "uprof" },
                    { type: "lab", name: "uidentity" },
                    { type: "lab", name: "uplace" },
                    { type: "lab", name: "ubirth", edit: { type: "text", attr: { onfocus: "WdatePicker()"/*这里集成了my97date控件进行日期的编辑,需要引用mydate97(http://www.my97.net/demo/index.htm)*/ } } },
                    { type: "lab", name: "uaddr" },
                    { type: "btnEdit" }
                ],
                onDelete: function (row) {
                    console.log(row);
                    //删除方法
                    //...
                    //刷新表格
                    grid.init({ data: data });
                },
                onUpdate: function (row) {
                    console.log(row);
                    //更新方法
                    //...
                    //刷新表格
                    grid.init({ data: data });
                }
            });
            grid.init({ data: data });
        });
        var data = [
            { uname: "小明", uage: 20, usex: "1", uprof: "学生", uidentity: "342510199612146325", uplace: "湖南省湘潭县", ubirth: "1996-12-14", uaddr: "湖北省武汉市汤逊湖社区" },
            { uname: "小明", uage: 20, usex: "2", uprof: "学生", uidentity: "342510199612146325", uplace: "湖南省湘潭县", ubirth: "1996-12-14", uaddr: "湖北省武汉市汤逊湖社区" },
            { uname: "小明", uage: 20, usex: "1", uprof: "学生", uidentity: "342510199612146325", uplace: "湖南省湘潭县", ubirth: "1996-12-14", uaddr: "湖北省武汉市汤逊湖社区" },
            { uname: "小明", uage: 20, usex: "2", uprof: "学生", uidentity: "342510199612146325", uplace: "湖南省湘潭县", ubirth: "1996-12-14", uaddr: "湖北省武汉市汤逊湖社区" },
            { uname: "小明", uage: 20, usex: "1", uprof: "学生", uidentity: "342510199612146325", uplace: "湖南省湘潭县", ubirth: "1996-12-14", uaddr: "湖北省武汉市汤逊湖社区" },
            { uname: "小明", uage: 20, usex: "1", uprof: "学生", uidentity: "342510199612146325", uplace: "湖南省湘潭县", ubirth: "1996-12-14", uaddr: "湖北省武汉市汤逊湖社区" },
            { uname: "小明", uage: 20, usex: "1", uprof: "学生", uidentity: "342510199612146325", uplace: "湖南省湘潭县", ubirth: "1996-12-14", uaddr: "湖北省武汉市汤逊湖社区" },
            { uname: "小明", uage: 20, usex: "1", uprof: "学生", uidentity: "342510199612146325", uplace: "湖南省湘潭县", ubirth: "1996-12-14", uaddr: "湖北省武汉市汤逊湖社区" },
            { uname: "小明", uage: 20, usex: "1", uprof: "学生", uidentity: "342510199612146325", uplace: "湖南省湘潭县", ubirth: "1996-12-14", uaddr: "湖北省武汉市汤逊湖社区" },
            { uname: "小明", uage: 20, usex: "2", uprof: "学生", uidentity: "342510199612146325", uplace: "湖南省湘潭县", ubirth: "1996-12-14", uaddr: "湖北省武汉市汤逊湖社区" }
        ];
    </script>
</body>

</html>